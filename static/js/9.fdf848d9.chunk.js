(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{125:function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"j",function(){return c}),n.d(t,"h",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return d});var a=n(25),r=(n(26),function(e){return fetch(a.a.base_api+"subscriptions/returning",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})}),o=function(e){return fetch(a.a.base_api+"subscriptions/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})},c=function(e,t){return fetch(a.a.base_api+"subscriptions/pay_mpesa",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})},i=function(e,t){return fetch(a.a.base_api+"subscriptions/renew/account",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})},s=function(e){return fetch(a.a.base_api+"subscriptions/renew/done",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({})}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})},l=function(e){return fetch(a.a.base_api+"subscriptions/is/paid",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({})}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})},u=function(e,t){return fetch(a.a.base_api+"webdata/lang/videos",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})},p=function(e,t){return fetch(a.a.base_api+"webdata/lang/data",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})},h=function(e,t){return fetch(a.a.base_api+"webdata/math/videos",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})},d=function(e,t){return fetch(a.a.base_api+"webdata/math/data",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})}},133:function(e,t,n){e.exports=n.p+"static/media/background_1920-18.acfe7046.jpg"},134:function(e,t,n){e.exports=n.p+"static/media/background_640-1.1420d15b.jpg"},135:function(e,t,n){e.exports=n.p+"static/media/background_640-3.55e47e98.jpg"},137:function(e,t,n){"use strict";var a=n(8),r=n(1),o=n.n(r),c=(n(17),n(21)),i=n(28),s=n(3),l=n.n(s),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"},p=function(e){var t,n=e.tag,r=e.className,c=e.type,s=Object(a.a)(e,["tag","className","type"]),p=l()(Object(i.a)({},c,!!c),r);return t=n||(!n&&u[c]?u[c]:"p"),o.a.createElement(t,Object.assign({},s,{className:p}))};p.defaultProps={type:"p"};var h=p,d=c.a.create("page"),m=function(e){var t=e.title,n=(e.breadcrumbs,e.tag),r=e.className,c=e.children,i=Object(a.a)(e,["title","breadcrumbs","tag","className","children"]),s=d.b("px-3",r);return o.a.createElement(n,Object.assign({className:s},i),o.a.createElement("div",{className:d.e("header")},t&&"string"===typeof t?o.a.createElement(h,{type:"h1",className:d.e("title")}):t),c)};m.defaultProps={tag:"div",title:""};t.a=m},139:function(e,t,n){e.exports=n.p+"static/media/background_1920-11.b7f68e8a.jpg"},142:function(e,t,n){e.exports=n.p+"static/media/landing-2-image.f6047695.png"},223:function(e,t,n){"use strict";n.r(t);var a=n(20),r=n(9),o=n(10),c=n(12),i=n(11),s=n(13),l=(n(139),n(142),n(133),n(134),n(135),n(40),n(42),n(137)),u=n(1),p=n.n(u),h=n(41),d=n(26),m=n.n(d),f=n(125),b=n(110),j=n(111),g=n(96),y=n(97),O=n(98),E=n(225),S=n(87),v=n(88),w=n(89),N=n(90),P=n(91),_=n(25),T=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).handleFinish=function(){n.setState(Object(a.a)({},n.state,{preload:!0})),Object(f.f)(n.state.xtoken).then(function(e){if(200===e.status&&1===e.done)return m.a.setItem(_.a.secret,JSON.stringify(e)).then(function(){}).catch(function(e){}),void(window.location.href="/");n.setState(Object(a.a)({},n.state,{error:e.message,msg:"",showform:!0,showFinish:!1,preload:!1}))}).catch(function(e){n.setState(Object(a.a)({},n.state,{msg:"",error:"Connection error occured. Try again",preload:!1}))})},n.handleGPhoneInput=function(e){var t=e.target.value;n.setState(Object(a.a)({},n.state,{g_phone:t}))},n.handleInitiateTransaction=function(e){n.setState(Object(a.a)({},n.state,{preload:!0}));var t={phone:n.state.g_phone};Object(f.h)(n.state.xtoken,t).then(function(e){return console.log("response",e),200===e.status?void n.setState(Object(a.a)({},n.state,{msg:e.message,error:"",showform:!1,showFinish:!0,preload:!1})):void n.setState(Object(a.a)({},n.state,{msg:"",error:e.message,showform:!0,showFinish:!1,preload:!1}))}).catch(function(e){n.setState(Object(a.a)({},n.state,{msg:"",error:"Connection error occured. Try again",preload:!1}))})},n.state={payid:"",selected_app:"",xtoken:"",g_phone:"",msg:"",error:"",preload:!1,showform:!0,showFinish:!1},m.a.getItem(_.a.secret).then(function(e){if(null!==e){var t=JSON.parse(e);n.setState(Object(a.a)({},n.state,{selected_app:t.data.app_label,g_phone:t.data.info.g_phone,xtoken:t.data.token}))}}).catch(function(e){console.log("storage error",e)}),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return p.a.createElement(l.a,{title:"Cards",breadcrumbs:[{name:"cards",active:!0}]},p.a.createElement(b.a,{className:"justify-content-center"},p.a.createElement(j.a,{md:8,sm:8,xs:12,className:"mb-1"},p.a.createElement(g.a,{className:"flex-row text-center"},p.a.createElement(y.a,null,p.a.createElement(O.a,null,p.a.createElement("h1",null,"Renew Subscription",p.a.createElement("br",null))),p.a.createElement("small",null,"Your subscription for ",p.a.createElement("b",null,this.state.selected_app)," has expired. Kindly renew to continue enjoying our services"),this.state.preload&&p.a.createElement(O.a,null,p.a.createElement(h.a,null)),this.state.error.length>0&&p.a.createElement(E.a,{color:"danger"},this.state.error),this.state.msg.length>0&&p.a.createElement(E.a,{color:"success"},this.state.msg),p.a.createElement("br",null),p.a.createElement("div",{className:"row justify-content-center"},p.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},p.a.createElement(S.a,null,!0===this.state.showform&&p.a.createElement("div",null,p.a.createElement(v.a,null,p.a.createElement(w.a,null,"Guardian/Parent ",p.a.createElement("b",null,"Mpesa")," Phone"),p.a.createElement(N.a,{onChange:this.handleGPhoneInput,value:this.state.g_phone,type:"number",name:"phone",placeholder:""})),p.a.createElement("br",null),p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},p.a.createElement(P.a,{onClick:this.handleInitiateTransaction,className:"btn-custom"},"Complete Payment")))),!0===this.state.showFinish&&p.a.createElement("div",{className:"row justify-content-center"},p.a.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},p.a.createElement("p",null,"If you have paid and received MPESA message, click on button below to finish"),p.a.createElement(P.a,{onClick:this.handleFinish,className:"btn-custom"},"Click here to complete")))))))))))}}]),t}(p.a.Component);t.default=T}}]);
//# sourceMappingURL=9.fdf848d9.chunk.js.map